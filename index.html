<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AlgoMath</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <audio id="bg-music" src="item/bg-music.mp3" autoplay loop></audio>
    <div id="music-controls">
      <button id="toggle-music">🔇</button>
      <div class="volume-control">
        <input
          type="range"
          id="volume-slider"
          min="0"
          max="1"
          step="0.1"
          value="0.5"
        />
      </div>
    </div>

    <!-- Halaman Awal -->
    <div id="start-screen" class="game-screen">
      <div class="game-title">
        <h1>AlgoMath</h1>
        <div class="title-decoration">
          <span class="math-symbol">∑</span>
          <span class="math-symbol">∫</span>
          <span class="math-symbol">π</span>
        </div>
      </div>

      <div class="start-container">
        <div class="input-group animated">
          <div class="input-wrapper">
            <input type="text" id="player-name" placeholder="Nama" />
            <span class="input-icon">👤</span>
          </div>
          <div class="input-wrapper">
            <input type="text" id="player-class" placeholder="Kelas" />
            <span class="input-icon">🏫</span>
          </div>
        </div>

        <div class="button-group">
          <button id="start-button" class="glow-button">
            <span class="button-icon">▶️</span>
            Mode Sendiri
          </button>
          <button id="multiplayer-button" class="glow-button multiplayer-btn">
            <span class="button-icon">👥</span>
            Mode Multiplayer
          </button>
        </div>
      </div>
    </div>

    <!-- Pilih Kategori -->
    <div id="category-selection" class="game-screen" style="display: none">
      <h2>Hai, <span id="player-display-name"></span> siap mengerjakan?</h2>
      <p>Pilih salah satu kategori untuk dimainkan</p>
      <div class="category-buttons">
        <button class="category-btn" data-category="Trigonometri">
          Trigonometri
        </button>
        <button class="category-btn" data-category="Peluang Kejadian">
          Peluang Kejadian
        </button>
        <button class="category-btn" data-category="Statistika/Penyajian Data">
          Statistika / Penyajian Data
        </button>
      </div>
    </div>

    <!-- Pilih Level -->
    <div id="level-choice" style="display: none">
      <h2 id="level-title">Pilih Level</h2>
      <div class="level-buttons">
        <button class="level-btn" data-level="Easy">Easy</button>
        <button class="level-btn" data-level="Medium">Medium</button>
        <button class="level-btn" data-level="Hard">Hard</button>
      </div>
      <div class="progress-indicator">
        <div class="progress-dot" data-level="Easy"></div>
        <div class="progress-dot" data-level="Medium"></div>
        <div class="progress-dot" data-level="Hard"></div>
      </div>
    </div>

    <!-- Multiplayer Setup -->
    <div
      id="multiplayer-setup"
      class="game-screen multiplayer-screen"
      style="display: none"
    >
      <div class="multiplayer-header">
        <h2>🎮 Mode Multiplayer</h2>
        <p class="multiplayer-subtitle">Ayo bermain bersama teman!</p>
      </div>

      <div class="multiplayer-options">
        <div class="player-counter-wrapper">
          <h3>Jumlah Pemain</h3>
          <div class="player-counter">
            <button class="counter-btn minus" id="player-dec">-</button>
            <span id="player-count">2</span>
            <button class="counter-btn plus" id="player-inc">+</button>
          </div>
        </div>

        <div id="player-names" class="player-names-container">
          <!-- Player inputs will be generated here -->
        </div>

        <div class="game-options">
          <div class="category-select">
            <h3>Pilih Kategori</h3>
            <select id="multiplayer-category" class="styled-select">
              <option value="fun">Fun Questions</option>
              <!--
                Jika kamu ada data kategori multiplayer lain di JS, tambah di sini:
                <option value="knowledge">Knowledge Quiz</option>
                <option value="riddles">Riddles</option>
              -->
            </select>
          </div>
          <div class="difficulty-select">
            <h3>Tingkat Kesulitan</h3>
            <div class="difficulty-buttons">
              <button class="diff-btn" data-difficulty="easy">Mudah</button>
              <button class="diff-btn" data-difficulty="medium">Sedang</button>
              <button class="diff-btn" data-difficulty="hard">Sulit</button>
            </div>
          </div>
        </div>
        <button id="start-multiplayer-btn" class="start-multiplayer-btn">
          Mulai Permainan <span class="btn-icon">🎮</span>
        </button>
      </div>
    </div>

    <!-- Game -->
    <div id="game-container" class="game-screen" style="display: none">
      <div class="multiplayer-hud" style="display: none"></div>
      <div class="hud">
        <div id="stats">
          <div id="score">Skor: 0</div>
          <div id="timer">⏱️ 00:30</div>
        </div>
        <div id="lives">❤️❤️❤️</div>
      </div>
      <div class="question-container">
        <h2 id="question"></h2>
        <div id="answer-buttons"></div>
        <p id="feedback"></p>
      </div>
      <div class="powerups-container" style="display: none">
        <button class="powerup-btn" data-powerup="skip" title="Skip Question">
          <span class="powerup-icon">⏭️</span>
          <span class="powerup-count"></span>
        </button>
        <button class="powerup-btn" data-powerup="extraLife" title="Extra Life">
          <span class="powerup-icon">💖</span>
          <span class="powerup-count"></span>
        </button>
        <button
          class="powerup-btn"
          data-powerup="doublePoints"
          title="Double Points"
        >
          <span class="powerup-icon">✨</span>
          <span class="powerup-count"></span>
        </button>
      </div>
    </div>

    <!-- Game Over -->
    <div id="game-over" class="game-screen" style="display: none">
      <h2>Game Over</h2>
      <div class="stats-container">
        <p>Skor: <span id="final-score"></span></p>
        <p id="level-status"></p>
      </div>
      <div class="retry-buttons">
        <button onclick="retryLevel()" class="retry-btn">
          Coba Lagi Level Ini
        </button>
        <button class="menu-utama-btn glow-button">
          <span class="button-icon">🏠</span>
          Menu Utama
        </button>
      </div>
    </div>

    <!-- Game Menang -->
    <div
      id="game-win"
      class="game-screen celebration-screen"
      style="display: none"
    >
      <div class="confetti"></div>
      <h2>🎉 Selamat! 🎉</h2>
      <div class="win-stats">
        <h3>
          Kamu telah menyelesaikan materi <span id="completed-category"></span>
        </h3>
        <div class="score-breakdown">
          <p>Skor Level Easy: <span id="easy-score"></span></p>
          <p>Skor Level Medium: <span id="medium-score"></span></p>
          <p>Skor Level Hard: <span id="hard-score"></span></p>
          <div class="total-score">
            <p>Total Skor: <span id="win-score"></span>/100</p>
          </div>
        </div>
      </div>
      <div class="win-buttons">
        <button onclick="chooseDifferentCategory()" class="next-btn">
          Pilih Kategori Lain
        </button>
        <button onclick="location.reload()" class="restart-btn">
          Main Lagi
        </button>
        <button class="menu-utama-btn glow-button">
          <span class="button-icon">🏠</span>
          Menu Utama
        </button>
      </div>
    </div>

    <script src="js/data-questions.js"></script>
    <script src="js/config.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/dom.js"></script>
    <script src="js/multiplayer.js"></script>
    <script src="js/singleplayer.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>